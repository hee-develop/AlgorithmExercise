## 124 나라의 숫자

문제 링크 : https://programmers.co.kr/learn/courses/30/lessons/12899

모든 숫자는 `[1, 2, 4]` 로 표현된다. 숫자 3개, 즉 3진법으로 계산하되, 특별히 주의해야 할 점은 다음과 같다.

- 3은 4로 표현된다
- 0이 없다. 즉 3의 배수는 바로 나누어지지 않는다.
  예를 들어, 6은 `20`(6+0)으로 표현할 수 있지만 `0`이 없기 때문에 `14`(3+3)로 표현한다.

숫자를 일반적인 3진법으로 계산하되, 3의 배수의 경우엔 숫자를 하나 빼어서 계산해야 한다.

```cpp
#include <string>
#include <vector>

using namespace std;

string solution(int n) {
    string answer = "";

    while (n != 0) {
        if (n % 3 == 0) {
            answer.insert(0, "4");
            n = n / 3 - 1;
        } else {
            answer.insert(0, to_string(n % 3));
            n = n / 3;
        }
    }
    return answer;
}
```

그런데 다른 풀이를 보고 좀 더 간단히 작성할 수 있다는 걸 이해했다.

> 3은 4로 표현된다

n을 3으로 나눈 값이 0이면 4로 표현한다는 것과 같다.
1과 2는 그대로 1과 2이므로, 다음과 같이 표현할 수 있다.

```
arr = [4, 1, 2]

a = arr[n % 3]
```

> 3의 배수의 경우엔 숫자를 하나 빼어서 나눈다

예시의 6을 예로 들면, `20`으로는 값을 표현할 수 없기 때문에 `14`로 표현해야 한다.
처음 값 `4`를 도출했을 때 다음 자리의 수는 3(이미 1의 자리에 3이 들어 있으므로)이 된다.
여기서 중요한 건 3의 배수가 아닌 경우에는 1을 빼고 3으로 나눠도 값에 변화가 없다는 점이다.

```
(int)(4 / 3) = 1
(int)((4 - 1) / 3) = 1

(int)(5 / 3) = 1
(int)((5 - 1) / 3) = 1
```

3의 배수는 1을 빼고 계산하는데, 3의 배수가 아닌 경우에는 1을 빼도 값에 변화가 없다.
즉 모든 수에 대해 다음 자리의 수를 구할 때 1을 빼고 3으로 나누어도 문제가 되지 않는다.

```
n = (int)((n - 1) / 3)
```

위 정리를 코드로 작성하면 다음과 같다.

```js
// javascript
function solution(n) {
  let answer = '';

  while (n !== 0) {
    const cur = [4, 1, 2][n % 3];
    answer = `${cur}${answer}`;
    n = Math.floor((n - 1) / 3);
  }
}
```

이렇게까지 생각할 수 있다는 게 대단하다...
